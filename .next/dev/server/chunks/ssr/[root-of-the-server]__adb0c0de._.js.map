{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Coding/Project_0/project0/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nconst Card = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={`rounded-lg border border-neutral-200/30 bg-white text-neutral-200 shadow-sm dark:border-neutral-800/30 dark:bg-neutral-900/30 dark:text-neutral-200 ${className || \"\"}`}\n        {...props}\n    />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={`flex flex-col space-y-1.5 p-6 ${className || \"\"}`}\n        {...props}\n    />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n    HTMLParagraphElement,\n    React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n    <h3\n        ref={ref}\n        className={`text-2xl font-semibold leading-none tracking-tight ${className || \"\"}`}\n        {...props}\n    />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n    HTMLParagraphElement,\n    React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n    <p\n        ref={ref}\n        className={`text-sm text-neutral-400 dark:text-neutral-600 ${className || \"\"}`}\n        {...props}\n    />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div ref={ref} className={`p-6 pt-0 ${className || \"\"}`} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={`flex items-center p-6 pt-0 ${className || \"\"}`}\n        {...props}\n    />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,oJAAoJ,EAAE,aAAa,IAAI;QAClL,GAAG,KAAK;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,8BAA8B,EAAE,aAAa,IAAI;QAC5D,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,mDAAmD,EAAE,aAAa,IAAI;QACjF,GAAG,KAAK;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,+CAA+C,EAAE,aAAa,IAAI;QAC7E,GAAG,KAAK;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAC,SAAS,EAAE,aAAa,IAAI;QAAG,GAAG,KAAK;;;;;;AAEtE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,CAAC,2BAA2B,EAAE,aAAa,IAAI;QACzD,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///home/abhi/Coding/Project_0/project0/app/dashboard/sac-permission/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { authClient } from \"@/lib/auth-client\";\n\ntype Role = \"student\" | \"teacher\" | \"sac\";\n\ntype LocationType = \"LA1\" | \"LA2\" | \"DTS\" | \"STS\" | \"Football1\" | \"Football2\";\n\ntype RequestStatus = \"Pending\" | \"Approved\" | \"Rejected\";\n\ntype SacRequest = {\n  id: string;\n  requesterEmail: string;\n  requesterName?: string;\n  location: LocationType;\n  capacity?: number;\n  purpose: string;\n  start: string; // ISO\n  end: string; // ISO\n  status: RequestStatus;\n  createdAt: string;\n  // optional special-request metadata\n  isSpecial?: boolean;\n  specialDetails?: string;\n};\n\nconst STORAGE_KEY = \"sac_requests_v1\";\n\nfunction loadRequests(): SacRequest[] {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    if (!raw) return [];\n    return JSON.parse(raw) as SacRequest[];\n  } catch (e) {\n    console.error(e);\n    return [];\n  }\n}\n\nfunction saveRequests(reqs: SacRequest[]) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(reqs));\n}\n\nfunction generateId() {\n  return Math.random().toString(36).slice(2, 9);\n}\n\nfunction overlaps(aStart: string, aEnd: string, bStart: string, bEnd: string) {\n  return new Date(aStart) < new Date(bEnd) && new Date(bStart) < new Date(aEnd);\n}\n\nexport default function SacPermissionPage() {\n  const router = useRouter();\n  const { data: session, isPending } = authClient.useSession();\n\n  const [requests, setRequests] = useState<SacRequest[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    setRequests(loadRequests());\n    setLoading(false);\n  }, []);\n\n  // simple role detection: prefer explicit role on session.user.role, else default student\n  const role: Role = useMemo(() => {\n    if (!session) return \"student\";\n    const u: any = session.user as any;\n    if (u.role === \"teacher\") return \"teacher\";\n    if (u.isSACMember || (Array.isArray(u.roles) && u.roles.includes(\"SAC\"))) return \"sac\";\n    if (u.role === \"sac\") return \"sac\";\n    return \"student\";\n  }, [session]);\n\n  useEffect(() => {\n    if (!loading) saveRequests(requests);\n  }, [requests, loading]);\n\n  if (isPending) return <div className=\"p-6\">Loading...</div>;\n  if (!session) return <div className=\"p-6\">You must be signed in to use SAC Permission.</div>;\n\n  const email = session.user.email || \"unknown\";\n  const name = (session.user as any).name as string | undefined;\n\n  // Student view\n  if (role === \"student\") {\n    return (\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl font-semibold\">SAC Permission</h1>\n        </div>\n\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle>Make a Request</CardTitle>\n            <CardDescription>Book LA1/LA2, DTS, STS or Football grounds</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <RequestForm\n              existingRequests={requests}\n              onCreate={(r) => setRequests((s) => [r, ...s])}\n              requesterEmail={email}\n              requesterName={name}\n            />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Your Requests</CardTitle>\n            <CardDescription>History of requests you made</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <StudentRequestList\n              requests={requests.filter((x) => x.requesterEmail === email)}\n              onCancel={(id) => setRequests((s) => s.filter((r) => r.id !== id))}\n            />\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  // Teacher / SAC view: show incoming requests and allow approve/reject/edit\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h1 className=\"text-2xl font-semibold\">SAC Permission - Incoming Requests</h1>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Incoming Requests</CardTitle>\n          <CardDescription>Approve, reject or edit requests</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <ManagerRequestList\n            requests={requests}\n            onUpdate={(next) => setRequests(next)}\n          />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction RequestForm({ existingRequests, onCreate, requesterEmail, requesterName }: {\n  existingRequests: SacRequest[];\n  onCreate: (r: SacRequest) => void;\n  requesterEmail: string;\n  requesterName?: string;\n}) {\n  const [location, setLocation] = useState<LocationType>(\"LA1\");\n  const [capacity, setCapacity] = useState<number | undefined>(undefined);\n  const [purpose, setPurpose] = useState(\"\");\n\n  // separate date & time\n  const [startDate, setStartDate] = useState(\"\"); // YYYY-MM-DD\n  const [startTime, setStartTime] = useState(\"\"); // HH:MM\n  const [endDate, setEndDate] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  const [duration, setDuration] = useState<string>(\"60\"); // minutes or 'custom'\n  const [isSpecial, setIsSpecial] = useState(false);\n  const [specialDetails, setSpecialDetails] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (location === \"LA1\" || location === \"LA2\") {\n      setCapacity((c) => c ?? 10);\n    } else {\n      setCapacity(undefined);\n    }\n  }, [location]);\n\n  // helper to combine date + time to ISO string\n  const combine = (d: string, t: string) => {\n    if (!d || !t) return \"\";\n    const dt = new Date(`${d}T${t}`);\n    return dt.toISOString();\n  };\n\n  // when start date/time and duration selected, auto-fill end date/time\n  useEffect(() => {\n    if (!startDate || !startTime) return;\n    if (!duration || duration === 'custom') return;\n    const mins = parseInt(duration, 10) || 60;\n    const s = new Date(`${startDate}T${startTime}`);\n    const e = new Date(s.getTime() + mins * 60000);\n    // fill endDate and endTime in local form values\n    const pad = (n: number) => n.toString().padStart(2, '0');\n    setEndDate(`${e.getFullYear()}-${pad(e.getMonth() + 1)}-${pad(e.getDate())}`);\n    setEndTime(`${pad(e.getHours())}:${pad(e.getMinutes())}`);\n  }, [startDate, startTime, duration]);\n\n  const combinedStart = combine(startDate, startTime);\n  const combinedEnd = combine(endDate, endTime);\n\n  const isSlotFree = useMemo(() => {\n    if (!combinedStart || !combinedEnd) return false;\n    for (const r of existingRequests) {\n      if (r.location !== location) continue;\n      if (overlaps(combinedStart, combinedEnd, r.start, r.end)) return false;\n    }\n    return true;\n  }, [combinedStart, combinedEnd, existingRequests, location]);\n\n  // suggested next free start\n  const suggestedStart = useMemo(() => {\n    if (!combinedStart) return null;\n    const after = new Date(combinedStart);\n    const later = existingRequests\n      .filter((r) => r.location === location && new Date(r.end) > after)\n      .map((r) => new Date(r.end));\n    if (!later.length) return null;\n    const latest = new Date(Math.max.apply(null, later as any));\n    const mins = Math.ceil(latest.getMinutes() / 15) * 15;\n    latest.setMinutes(mins);\n    latest.setSeconds(0);\n    latest.setMilliseconds(0);\n    return latest;\n  }, [combinedStart, existingRequests, location]);\n\n  function handleSubmit(e?: React.FormEvent) {\n    e?.preventDefault();\n    setError(null);\n    setSuccess(null);\n\n    if (!purpose.trim()) return setError(\"Purpose is required\");\n    if (!combinedStart || !combinedEnd) return setError(\"Start and end date/time are required\");\n    if (new Date(combinedStart) >= new Date(combinedEnd)) return setError(\"End must be after start\");\n    if (!isSlotFree) return setError(\"Selected slot is not free. Please pick another time or location.\");\n\n    const req: SacRequest = {\n      id: generateId(),\n      requesterEmail,\n      requesterName,\n      location,\n      capacity,\n      purpose,\n      start: new Date(combinedStart).toISOString(),\n      end: new Date(combinedEnd).toISOString(),\n      status: \"Pending\",\n      createdAt: new Date().toISOString(),\n      isSpecial: isSpecial ? true : undefined,\n      specialDetails: isSpecial ? specialDetails : undefined,\n    };\n\n    onCreate(req);\n    setSuccess(\"Request submitted and is pending approval.\");\n    setPurpose(\"\");\n    setStartDate(\"\");\n    setStartTime(\"\");\n    setEndDate(\"\");\n    setEndTime(\"\");\n    setDuration(\"60\");\n    setIsSpecial(false);\n    setSpecialDetails(\"\");\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium\">Location</label>\n          <select value={location} onChange={(e) => setLocation(e.target.value as LocationType)} className=\"mt-1 block w-full rounded-md border px-3 py-2\">\n            <option value=\"LA1\">LA1 (Lecture Auditorium 1)</option>\n            <option value=\"LA2\">LA2 (Lecture Auditorium 2)</option>\n            <option value=\"DTS\">DTS</option>\n            <option value=\"STS\">STS</option>\n            <option value=\"Football1\">Football Ground 1</option>\n            <option value=\"Football2\">Football Ground 2</option>\n          </select>\n        </div>\n\n        {(location === \"LA1\" || location === \"LA2\") && (\n          <div>\n            <label className=\"block text-sm font-medium\">Needed student capacity</label>\n            <input type=\"number\" min={1} value={capacity ?? 10} onChange={(e) => setCapacity(Number(e.target.value))} className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\n          </div>\n        )}\n\n        {/* Start card */}\n        <div>\n          <div className=\"rounded-md border p-3\">\n            <div className=\"flex items-center justify-between\">\n              <label className=\"block text-sm font-medium\">Start</label>\n              <div className=\"text-xs\">Duration:</div>\n            </div>\n            <div className=\"mt-2 grid grid-cols-2 gap-2\">\n              <input type=\"date\" value={startDate} onChange={(e) => setStartDate(e.target.value)} className=\"rounded-md border px-3 py-2\" />\n              <input type=\"time\" value={startTime} onChange={(e) => setStartTime(e.target.value)} className=\"rounded-md border px-3 py-2\" />\n            </div>\n            <div className=\"mt-2 flex gap-2 text-xs\">\n              <button type=\"button\" onClick={() => setDuration('30')} className=\"rounded-md border px-2 py-1\">30m</button>\n              <button type=\"button\" onClick={() => setDuration('60')} className=\"rounded-md border px-2 py-1\">1h</button>\n              <button type=\"button\" onClick={() => setDuration('120')} className=\"rounded-md border px-2 py-1\">2h</button>\n              <button type=\"button\" onClick={() => setDuration('custom')} className=\"rounded-md border px-2 py-1\">Custom</button>\n            </div>\n          </div>\n        </div>\n\n        {/* End card */}\n        <div>\n          <div className=\"rounded-md border p-3\">\n            <label className=\"block text-sm font-medium\">End</label>\n            <div className=\"mt-2 grid grid-cols-2 gap-2\">\n              <input type=\"date\" value={endDate} onChange={(e) => setEndDate(e.target.value)} className=\"rounded-md border px-3 py-2\" />\n              <input type=\"time\" value={endTime} onChange={(e) => setEndTime(e.target.value)} className=\"rounded-md border px-3 py-2\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium\">Purpose / Notes</label>\n        <textarea value={purpose} onChange={(e) => setPurpose(e.target.value)} rows={3} className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\n      </div>\n\n      {/* special request toggle */}\n      <div className=\"flex items-center gap-3\">\n        <button type=\"button\" onClick={() => setIsSpecial((s) => !s)} className={`rounded-md px-3 py-1 ${isSpecial ? 'bg-yellow-100' : 'border'}`}>Make special request</button>\n        {isSpecial && (\n          <div className=\"flex-1\">\n            <label className=\"block text-sm\">Special request details</label>\n            <input className=\"mt-1 block w-full rounded-md border px-3 py-2\" value={specialDetails} onChange={(e) => setSpecialDetails(e.target.value)} placeholder=\"Purpose, preferred location notes, equipment needed, etc.\" />\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <button type=\"submit\" className=\"rounded-md bg-cyan-600 px-4 py-2 text-white\">Submit request</button>\n        <button type=\"button\" onClick={() => { setPurpose(\"\"); setStartDate(\"\"); setStartTime(\"\"); setEndDate(\"\"); setEndTime(\"\"); setDuration('60'); setIsSpecial(false); setSpecialDetails(''); }} className=\"rounded-md border px-4 py-2\">Reset</button>\n        <div className=\"ml-auto text-sm text-neutral-500\">\n          {combinedStart && combinedEnd && (isSlotFree ? <span className=\"text-green-600\">Slot appears free</span> : <span className=\"text-red-600\">Slot unavailable</span>)}\n          {!isSlotFree && suggestedStart && (\n            <div className=\"text-xs text-neutral-500 mt-1\">Suggested next free start: {suggestedStart.toLocaleString()}</div>\n          )}\n        </div>\n      </div>\n\n      {error && <div className=\"text-sm text-red-600\">{error}</div>}\n      {success && <div className=\"text-sm text-green-600\">{success}</div>}\n    </form>\n  );\n}\n\nfunction StudentRequestList({ requests, onCancel }: { requests: SacRequest[]; onCancel: (id: string) => void; }) {\n  if (!requests.length) return <div className=\"p-4 text-center text-neutral-500\">No requests made yet.</div>;\n\n  return (\n    <div className=\"space-y-4\">\n      {requests.map((r) => (\n        <div key={r.id} className=\"rounded-md border p-4\">\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <h3 className=\"font-semibold\">{r.location} — {r.purpose}</h3>\n                <span className={`text-xs px-2 py-1 rounded ${r.status === 'Pending' ? 'bg-yellow-100 text-yellow-700' : r.status === 'Approved' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>{r.status}</span>\n              </div>\n              <p className=\"text-sm text-neutral-500\">{new Date(r.start).toLocaleString()} — {new Date(r.end).toLocaleString()}</p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {r.status === 'Pending' && (\n                <button onClick={() => onCancel(r.id)} className=\"rounded-md border px-3 py-1 text-sm\">Cancel</button>\n              )}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction ManagerRequestList({ requests, onUpdate }: { requests: SacRequest[]; onUpdate: (next: SacRequest[]) => void; }) {\n  const [editing, setEditing] = useState<SacRequest | null>(null);\n\n  function approve(id: string) {\n    const next = requests.map((r) =>\n      r.id === id ? ({ ...r, status: \"Approved\" } as SacRequest) : r\n    );\n    onUpdate(next);\n  }\n  function reject(id: string) {\n    const next = requests.map((r) =>\n      r.id === id ? ({ ...r, status: \"Rejected\" } as SacRequest) : r\n    );\n    onUpdate(next);\n  }\n  function saveEdit(updated: SacRequest) {\n    const next = requests.map((r) => r.id === updated.id ? updated : r);\n    onUpdate(next);\n    setEditing(null);\n  }\n\n  if (!requests.length) return <div className=\"p-4 text-center text-neutral-500\">No incoming requests.</div>;\n\n  return (\n    <div className=\"space-y-4\">\n      {requests.map((r) => (\n        <div key={r.id} className=\"rounded-md border p-4\">\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <h3 className=\"font-semibold\">{r.location} — {r.purpose}</h3>\n                <span className={`text-xs px-2 py-1 rounded ${r.status === 'Pending' ? 'bg-yellow-100 text-yellow-700' : r.status === 'Approved' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>{r.status}</span>\n              </div>\n              <p className=\"text-sm text-neutral-500\">Requested by {r.requesterName || r.requesterEmail}</p>\n              <p className=\"text-sm text-neutral-500\">{new Date(r.start).toLocaleString()} — {new Date(r.end).toLocaleString()}</p>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <button onClick={() => setEditing(r)} className=\"rounded-md border px-3 py-1 text-sm\">Edit</button>\n              <button onClick={() => approve(r.id)} className=\"rounded-md bg-green-600 px-3 py-1 text-sm text-white\">Approve</button>\n              <button onClick={() => reject(r.id)} className=\"rounded-md border px-3 py-1 text-sm\">Reject</button>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      {editing && (\n        <div className=\"rounded-md border p-4 bg-neutral-50\">\n          <h4 className=\"font-semibold mb-2\">Edit request</h4>\n          <EditRequestForm request={editing} onCancel={() => setEditing(null)} onSave={saveEdit} existingRequests={requests} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction EditRequestForm({ request, onCancel, onSave, existingRequests }: { request: SacRequest; onCancel: () => void; onSave: (r: SacRequest) => void; existingRequests: SacRequest[]; }) {\n  const [purpose, setPurpose] = useState(request.purpose);\n  const [start, setStart] = useState(new Date(request.start).toISOString().slice(0, 16));\n  const [end, setEnd] = useState(new Date(request.end).toISOString().slice(0, 16));\n  const [capacity, setCapacity] = useState<number | undefined>(request.capacity);\n  const [error, setError] = useState<string | null>(null);\n\n  const isSlotFree = useMemo(() => {\n    if (!start || !end) return false;\n    for (const r of existingRequests) {\n      if (r.id === request.id) continue; // skip self\n      if (r.location !== request.location) continue;\n      if (overlaps(start, end, r.start, r.end)) return false;\n    }\n    return true;\n  }, [start, end, existingRequests, request]);\n\n  function save() {\n    setError(null);\n    if (!purpose.trim()) return setError(\"Purpose required\");\n    if (new Date(start) >= new Date(end)) return setError(\"End must be after start\");\n    if (!isSlotFree) return setError(\"Conflict with existing booking\");\n\n    onSave({ ...request, purpose, start: new Date(start).toISOString(), end: new Date(end).toISOString(), capacity });\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div>\n          <label className=\"block text-sm\">Start</label>\n          <input type=\"datetime-local\" value={start} onChange={(e) => setStart(e.target.value)} className=\"mt-1 block w-full rounded-md border px-2 py-1\" />\n        </div>\n        <div>\n          <label className=\"block text-sm\">End</label>\n          <input type=\"datetime-local\" value={end} onChange={(e) => setEnd(e.target.value)} className=\"mt-1 block w-full rounded-md border px-2 py-1\" />\n        </div>\n      </div>\n\n      {(request.location === \"LA1\" || request.location === \"LA2\") && (\n        <div>\n          <label className=\"block text-sm\">Capacity</label>\n          <input type=\"number\" value={capacity ?? 10} onChange={(e) => setCapacity(Number(e.target.value))} className=\"mt-1 block w-40 rounded-md border px-2 py-1\" />\n        </div>\n      )}\n\n      <div>\n        <label className=\"block text-sm\">Purpose</label>\n        <textarea rows={2} value={purpose} onChange={(e) => setPurpose(e.target.value)} className=\"mt-1 block w-full rounded-md border px-2 py-1\"></textarea>\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        <button onClick={save} className=\"rounded-md bg-cyan-600 px-3 py-1 text-white\">Save</button>\n        <button onClick={onCancel} className=\"rounded-md border px-3 py-1\">Cancel</button>\n        <div className=\"ml-auto text-sm\">{!isSlotFree && <span className=\"text-red-600\">Conflict</span>}</div>\n      </div>\n\n      {error && <div className=\"text-sm text-red-600\">{error}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}